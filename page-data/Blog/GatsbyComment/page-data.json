{"componentChunkName":"component---src-templates-post-template-tsx","path":"/Blog/GatsbyComment/","result":{"data":{"allMarkdownRemark":{"edges":[{"node":{"html":"<h3 id=\"개요\" style=\"position:relative;\">개요<a href=\"#%EA%B0%9C%EC%9A%94\" aria-label=\"개요 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>구현된 정적 사이트에 댓글 기능을 다는 방법은 여러가지지만 처음에는 utterances를 이용해서 배포했다. 며칠 후 giscus를 알게되어 변경했다. <br/> giscus로 변경한 이유는 바로 아래서 설명하겠다.</p>\n<h3 id=\"utterances-VS-giscus\" style=\"position:relative;\">utterances VS giscus<a href=\"#utterances-VS-giscus\" aria-label=\"utterances VS giscus permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>두 서비스 다 GitHub API 를 활용한 서비스인데, utterances는 <code class=\"language-text\">Issues API</code> 를 사용하고, giscus는 <code class=\"language-text\">Discussions API</code> 를 사용한다. giscus는 utterances를 기반으로 만들어진 라이브러리여서인지, 적용하는 방식은 두 서비스가 유사하다.\n또한 <b>사용 방법이 매우 쉽다. </b></p>\n<table>\n<thead>\n<tr>\n<th></th>\n<th>utterances</th>\n<th>giscus</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>댓글 기능</td>\n<td>O</td>\n<td>O</td>\n</tr>\n<tr>\n<td>대댓글 기능</td>\n<td>X</td>\n<td>O</td>\n</tr>\n<tr>\n<td>글 리액션 기능</td>\n<td>X</td>\n<td>O</td>\n</tr>\n</tbody>\n</table>\n<p>위 표에서 써져있는 것처럼 utterances에서 giscus로 변경한 이유는 대댓글기능과 글 리액션 기능이다.</p>\n<h3 id=\"utterances-적용\" style=\"position:relative;\">utterances 적용<a href=\"#utterances-%EC%A0%81%EC%9A%A9\" aria-label=\"utterances 적용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<ol>\n<li>\n<p><b>설정</b></p>\n<ul>\n<li>\n<p>Github에 Utterances 애플리케이션을 추가해주고, 블로그 레포지토리에 권한 설정 → <a href=\"!https://github.com/apps/utterances\">설치 링크</a></p>\n</li>\n<li>\n<p>모든 레포지토리에 권한을 줘도 상관없지만, 댓글을 저장할 레포지토리를 하나 생성한 후에 이 레포지토리에만 권한을 부여하는 것을 추천한다.</p>\n</li>\n</ul>\n</li>\n<li>\n<p><b>구현</b></p>\n</li>\n</ol>\n<p><a href=\"!https://utteranc.es/\">공식문서</a>의 Configuration 섹션을 쭉 따라가면서 설정해주면 마지막에 script 태그를 하나 만들어준다. <br/>\n(매핑 기준은 Issue title contains page pathname를 선택했다.)</p>\n<div>\n        <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/7780f63c00b361af074d4f2556940a4d/74cb2/UtterancesScript.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 45.833333333333336%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAJCAYAAAAywQxIAAAACXBIWXMAABYlAAAWJQFJUiTwAAABRUlEQVR42qWSS27bMBCGfeKco1fJKttseoRklyABDNuypUiyKFIirScfX0A6BRqgaItkgI8DDDn/PMDNulpOp5w8L8iLgrKscM7xFQshsFnWld3+QJYd2e32HI8n3t5KyqpK4pFYqK7PVFWd4tFXdX31VU3X9UksABtrLaJtU1AqSd/3KKU+IYRAdR1SKRohaESLaCVNI+h7nSZKgrHDqKrHEWk0Uo4UjaIUmvzcUbeGRl3ozMRiHYv1ifWXdz7Fx9kyzSveBzbxGKYZbSb2W8XTa8HD056H54yz1FzGBTPMDPPCMP2ZcV4/C06LZRhXsm1PdpBsjzUvhxJ9mdJdTPgbOhYdF1wSDIHOGEohaMXAMF0f/V79X3gff4X/2GEIeO+xH4uNHf8PsZvgA9Z5ftx33NxKzsZdBb9jMf3n84W7R42ZHe89K7auU9z3hwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/7780f63c00b361af074d4f2556940a4d/a59e9/UtterancesScript.webp 192w,\n/static/7780f63c00b361af074d4f2556940a4d/0ca9f/UtterancesScript.webp 384w,\n/static/7780f63c00b361af074d4f2556940a4d/dc9b9/UtterancesScript.webp 768w,\n/static/7780f63c00b361af074d4f2556940a4d/e2c2f/UtterancesScript.webp 1152w,\n/static/7780f63c00b361af074d4f2556940a4d/5a38c/UtterancesScript.webp 1450w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/7780f63c00b361af074d4f2556940a4d/3b721/UtterancesScript.png 192w,\n/static/7780f63c00b361af074d4f2556940a4d/66595/UtterancesScript.png 384w,\n/static/7780f63c00b361af074d4f2556940a4d/fe486/UtterancesScript.png 768w,\n/static/7780f63c00b361af074d4f2556940a4d/d2d74/UtterancesScript.png 1152w,\n/static/7780f63c00b361af074d4f2556940a4d/74cb2/UtterancesScript.png 1450w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/7780f63c00b361af074d4f2556940a4d/fe486/UtterancesScript.png\" alt=\"UtterancesScript\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n    </div>\n\"Position it where you want the comments to appear\" 코멘트가 위치할 곳에 가져다 붙이기만 하면 된다 <br> 라고는 적혀있지만,  React 환경에서는 script 태그를 가져다 붙이는 것으로는 적용되지 않는다. <u>useEffect 를 사용해 초기화 시 동적으로 설정하게끔 해주어야 한다.</u> <br>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> createRef<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> <span class=\"token string\">'https://utteranc.es/client.js'</span>\n<span class=\"token keyword\">const</span> repo <span class=\"token operator\">=</span> <span class=\"token string\">'wjdgml3092/blog-comments'</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">UtterancesAttributesType</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  src<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  repo<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'issue-term'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  label<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  theme<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  crossorigin<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  async<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CommentWidget</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> element <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">.</span>current <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n\n    <span class=\"token keyword\">const</span> utterances<span class=\"token operator\">:</span> HTMLScriptElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> attributes<span class=\"token operator\">:</span> UtterancesAttributesType <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      src<span class=\"token punctuation\">,</span>\n      repo<span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'issue-term'</span><span class=\"token operator\">:</span> <span class=\"token string\">'pathname'</span><span class=\"token punctuation\">,</span>\n      label<span class=\"token operator\">:</span> <span class=\"token string\">'Comment'</span><span class=\"token punctuation\">,</span>\n      theme<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">github-light</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      crossorigin<span class=\"token operator\">:</span> <span class=\"token string\">'anonymous'</span><span class=\"token punctuation\">,</span>\n      async<span class=\"token operator\">:</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      utterances<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    element<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>utterances<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>element<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CommentWidget</code></pre></div>\n<p>댓글 기능을 초기화해주는 컴포넌트를 하나 만들어주고 postContent(댓글을 넣을)부분 아래에 붙여주면 끝이다.</p>\n<br/>\n<ol start=\"3\">\n<li><b>완성</b></li>\n</ol>\n<div>\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/a53cbd444f1f97645ad8bdea4ec024e2/26cba/UtterancesFinish.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 25%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAoElEQVR42p2QuwrCQBRE/f+vsLC0txYr0dJO0E4NySZZNw/3cfdIEtQ0BnHg3NsMwzAzAO8DQYSqaanbB2PFGH9k8M+6s1jO2WzXqOOe025FojRJWXNThtxYKgfGxq+kusGH+AlM0ytFodB5Rq0V1nmsC/13QQgSJ+m8EkeBnUQ83lX4IIgI/6oPPFwi5yxQG01e3jFV895zaDpN53+VeAIOWoabb7bOfQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/a53cbd444f1f97645ad8bdea4ec024e2/a59e9/UtterancesFinish.webp 192w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/0ca9f/UtterancesFinish.webp 384w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/dc9b9/UtterancesFinish.webp 768w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/e2c2f/UtterancesFinish.webp 1152w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/f3efb/UtterancesFinish.webp 1536w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/b844b/UtterancesFinish.webp 1782w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/a53cbd444f1f97645ad8bdea4ec024e2/3b721/UtterancesFinish.png 192w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/66595/UtterancesFinish.png 384w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/fe486/UtterancesFinish.png 768w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/d2d74/UtterancesFinish.png 1152w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/e8464/UtterancesFinish.png 1536w,\n/static/a53cbd444f1f97645ad8bdea4ec024e2/26cba/UtterancesFinish.png 1782w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/a53cbd444f1f97645ad8bdea4ec024e2/fe486/UtterancesFinish.png\" alt=\"UtterancesFinish\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n</div>\n<br/>\n<h3 id=\"giscus-적용\" style=\"position:relative;\">giscus 적용<a href=\"#giscus-%EC%A0%81%EC%9A%A9\" aria-label=\"giscus 적용 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>utterances 유사!</p>\n<ol>\n<li>\n<p><b>설정</b></p>\n<ul>\n<li>댓글이 작성될 레포지토리 생성 (꼭, 댓글 기능을 적용하려는 프로젝트의 레포지토리가 아니어도 된다.)</li>\n<li>해당 레포지토리 - [Settings] - [Features] - [Discussions] 기능을 사용하기로 체크한다.</li>\n<li>댓글이 작성될 카테고리를 생성하거나 혹은 있는 카테고리를 사용해도 된다.</li>\n<li><a href=\"!https://github.com/apps/giscus\">giscus 설치</a></li>\n</ul>\n</li>\n<li>\n<p><b>구현</b>\n<a href=\"!https://giscus.app/ko/\">공식문서</a>의 Configuration 섹션을 쭉 따라가면서 설정해주면 마지막에 script 태그를 하나 만들어준다. <br/>(Discussion 카테고리는 만든 카테고리가 있다면 그걸로 선택, 메인 포스트에 리액션 반응 선택)</p>\n<div>\n      <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/89e5cd0f1bf77c25a6547c48b99ed71f/c7591/GiscusScript.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 61.45833333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAYAAABiDJ37AAAACXBIWXMAABYlAAAWJQFJUiTwAAABzElEQVR42pWT6W7bMBCE/f7v1X9FUqRNgzj1FTuJJIqnLYmX/BVkjDZAkbYRMNjZ1e6IpIaLYRhYrdZsdzuEEMQY8d4TUyLGRAgB7wMpJVLKNS89qb6PNa+1lJjnmcU0TTRti7UOay19LzHGYJ271BxKa47HI9pYtDY452pe+rXWNZZazplFzjPDNOHr1xI+ZkLM+MIvmOczKc+kNL/GN8gXFF76FjmfMccTe2G4f1TcbRpulnuu7x65W7+weRI0vcW4kdEnhim8g0guW045E9PMixz5/KC4Xkmuvu/4dPXAzfLAoVX0+sQ4RUb/d1TBslwfE40e+brV3G4k671g32q0G9BuxJ2mf4r9IdjpkeXB8uPZcb+3rA8S4wZCykz/IfZLsGw5xESrRq5Xii/LhttVw3Lbsn3ueRGW0+g/tsJh8jz3jm8bxa7RPLWKVrp62G7wNZaB4Z1zHN4KnuczdhiQzjGFREyvP6lstdgn5ldeLRR/Y7pYrKDwKVyMXdxezCqlopeyRqUtyliUNvRKV4he0XaiRqUUspcI0Vde5s/nc8WiXJuuE/W21AEb6Eyg0QHtJjrtKi/1xnha42nkESEknejRUpBioDxF8CcPYZuGnSptWAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/89e5cd0f1bf77c25a6547c48b99ed71f/a59e9/GiscusScript.webp 192w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/0ca9f/GiscusScript.webp 384w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/dc9b9/GiscusScript.webp 768w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/e2c2f/GiscusScript.webp 1152w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/f3efb/GiscusScript.webp 1536w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/5162c/GiscusScript.webp 1574w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/89e5cd0f1bf77c25a6547c48b99ed71f/3b721/GiscusScript.png 192w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/66595/GiscusScript.png 384w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/fe486/GiscusScript.png 768w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/d2d74/GiscusScript.png 1152w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/e8464/GiscusScript.png 1536w,\n/static/89e5cd0f1bf77c25a6547c48b99ed71f/c7591/GiscusScript.png 1574w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/89e5cd0f1bf77c25a6547c48b99ed71f/fe486/GiscusScript.png\" alt=\"GiscusScript\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n</div>\n <u>giscus도 만들어진 스크립트를 갖다 쓸 수는 없다.</u> <br>\n<div class=\"gatsby-highlight\" data-language=\"tsx\"><pre class=\"language-tsx\"><code class=\"language-tsx\"><span class=\"token keyword\">import</span> styled <span class=\"token keyword\">from</span> <span class=\"token string\">'@emotion/styled'</span>\n<span class=\"token keyword\">import</span> React<span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span> createRef<span class=\"token punctuation\">,</span> useEffect <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span>\n\n<span class=\"token keyword\">const</span> CommentWrapper <span class=\"token operator\">=</span> styled<span class=\"token punctuation\">.</span>div<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  width: 768px;\n  margin: auto;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    padding: 15px;\n  }\n</span><span class=\"token template-punctuation string\">`</span></span>\n\n<span class=\"token keyword\">const</span> src <span class=\"token operator\">=</span> <span class=\"token string\">'https://giscus.app/client.js'</span>\n\n<span class=\"token keyword\">type</span> <span class=\"token class-name\">GiscusAttributesType</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  src<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-repo'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-repo-id'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-category'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-category-id'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-mapping'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-strict'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-reactions-enabled'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-emit-metadata'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-input-position'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-theme'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  <span class=\"token string-property property\">'data-lang'</span><span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  crossorigin<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n  async<span class=\"token operator\">:</span> <span class=\"token builtin\">string</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">const</span> <span class=\"token function-variable function\">CommentWidget</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> element <span class=\"token operator\">=</span> <span class=\"token generic-function\"><span class=\"token function\">createRef</span><span class=\"token generic class-name\"><span class=\"token operator\">&lt;</span>HTMLDivElement<span class=\"token operator\">></span></span></span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token function\">useEffect</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>element<span class=\"token punctuation\">.</span>current <span class=\"token operator\">===</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">return</span>\n\n    <span class=\"token keyword\">const</span> giscus<span class=\"token operator\">:</span> HTMLScriptElement <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">'script'</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token keyword\">const</span> attributes<span class=\"token operator\">:</span> GiscusAttributesType <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n      src<span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-repo'</span><span class=\"token operator\">:</span> <span class=\"token string\">'wjdgml3092/wjdgml3092.github.io'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-repo-id'</span><span class=\"token operator\">:</span> <span class=\"token string\">'R_kgDOJ0fPzg'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-category'</span><span class=\"token operator\">:</span> <span class=\"token string\">'Giscus'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-category-id'</span><span class=\"token operator\">:</span> <span class=\"token string\">'DIC_kwDOJ0fPzs4CapzG'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-mapping'</span><span class=\"token operator\">:</span> <span class=\"token string\">'pathname'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-strict'</span><span class=\"token operator\">:</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-reactions-enabled'</span><span class=\"token operator\">:</span> <span class=\"token string\">'1'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-emit-metadata'</span><span class=\"token operator\">:</span> <span class=\"token string\">'0'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-input-position'</span><span class=\"token operator\">:</span> <span class=\"token string\">'top'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-theme'</span><span class=\"token operator\">:</span> <span class=\"token string\">'preferred_color_scheme'</span><span class=\"token punctuation\">,</span>\n      <span class=\"token string-property property\">'data-lang'</span><span class=\"token operator\">:</span> <span class=\"token string\">'ko'</span><span class=\"token punctuation\">,</span>\n      crossorigin<span class=\"token operator\">:</span> <span class=\"token string\">'anonymous'</span><span class=\"token punctuation\">,</span>\n      async<span class=\"token operator\">:</span> <span class=\"token string\">'true'</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span>\n\n    Object<span class=\"token punctuation\">.</span><span class=\"token function\">entries</span><span class=\"token punctuation\">(</span>attributes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">[</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      giscus<span class=\"token punctuation\">.</span><span class=\"token function\">setAttribute</span><span class=\"token punctuation\">(</span>key<span class=\"token punctuation\">,</span> value<span class=\"token punctuation\">)</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    element<span class=\"token punctuation\">.</span>current<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>giscus<span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">)</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CommentWrapper</span></span> <span class=\"token attr-name\">ref</span><span class=\"token script language-javascript\"><span class=\"token script-punctuation punctuation\">=</span><span class=\"token punctuation\">{</span>element<span class=\"token punctuation\">}</span></span> <span class=\"token punctuation\">/></span></span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> CommentWidget</code></pre></div>\n</li>\n</ol>\n <br/>\n<ol start=\"3\">\n<li><b>완성</b></li>\n</ol>\n<div>\n    <span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 768px; \">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/0447a56016a92f4825fc68bc7c84ef65/e2af0/GiscusFinish.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 76.04166666666667%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAABYlAAAWJQFJUiTwAAABeUlEQVR42p2T2XLDIAxF+f9v6lsnL+1fdNI2zmJsVgOC2xE4zTYZu5XnGJvlIpAkSilg2Nr71nhs+7VDdxqBJ+PXrcCClZwhtcdex6di1yaUUui6PZz3MMZWiAhrTGuD712HQy/xuTsg5wIRU4JSBn4KsM7D+YCYaBVTiLB+qmu1caCcIYgypBygrYNUBqO28CHCTWEFsc5llHEIMbKHBKksRuPgQ4KfYp34NwJciMjsYUoE6wOsj7+4/4j6MAtSE+TOJnyBd77/f+xjsYhe6hYU9lBpA2tdTQPeZQ2UqSaungxePjZ43b4jUmoeamNmsZnSKAugFKScsLcnHN1Q1whlNDZvr+j2h5pTnDocMQ5OS95lzlWWCyAoFxyOp5bczj2tgIV6mk8ECFY1PsJYX7cr83Hb8fPlGu4pF0JMMDUGgAiJ0A8KvRzrwLkKUr34gkT55vvcPlZNAlFhD+dF82SGhYdR4dRLyGGs33IYajYM41jb89xr+PkB+KSYUcX50TMAAAAASUVORK5CYII='); background-size: cover; display: block;\"></span>\n  <picture>\n          <source srcset=\"/static/0447a56016a92f4825fc68bc7c84ef65/a59e9/GiscusFinish.webp 192w,\n/static/0447a56016a92f4825fc68bc7c84ef65/0ca9f/GiscusFinish.webp 384w,\n/static/0447a56016a92f4825fc68bc7c84ef65/dc9b9/GiscusFinish.webp 768w,\n/static/0447a56016a92f4825fc68bc7c84ef65/e2c2f/GiscusFinish.webp 1152w,\n/static/0447a56016a92f4825fc68bc7c84ef65/f3efb/GiscusFinish.webp 1536w,\n/static/0447a56016a92f4825fc68bc7c84ef65/b135c/GiscusFinish.webp 1650w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/webp\">\n          <source srcset=\"/static/0447a56016a92f4825fc68bc7c84ef65/3b721/GiscusFinish.png 192w,\n/static/0447a56016a92f4825fc68bc7c84ef65/66595/GiscusFinish.png 384w,\n/static/0447a56016a92f4825fc68bc7c84ef65/fe486/GiscusFinish.png 768w,\n/static/0447a56016a92f4825fc68bc7c84ef65/d2d74/GiscusFinish.png 1152w,\n/static/0447a56016a92f4825fc68bc7c84ef65/e8464/GiscusFinish.png 1536w,\n/static/0447a56016a92f4825fc68bc7c84ef65/e2af0/GiscusFinish.png 1650w\" sizes=\"(max-width: 768px) 100vw, 768px\" type=\"image/png\">\n          <img class=\"gatsby-resp-image-image\" src=\"/static/0447a56016a92f4825fc68bc7c84ef65/fe486/GiscusFinish.png\" alt=\"GiscusFinish\" title=\"\" loading=\"lazy\" decoding=\"async\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\">\n        </picture>\n  </a>\n    </span>\n</div>\n <br/>\n<h3 id=\"마무리\" style=\"position:relative;\">마무리<a href=\"#%EB%A7%88%EB%AC%B4%EB%A6%AC\" aria-label=\"마무리 permalink\" class=\"anchor after\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>giscus를 빨리 알았다면 좋았을텐데 검색을 하면 utterances 관련 글이 많이 뜬다. 그래서 이 두 가지의 차이점과 각각 적용방법을 포스팅하면 좋겠다고 생각했다. 이상 !🫡</p>","frontmatter":{"title":"utterances VS giscus","date":"2023.11.03.","category":"Blog","tag":["comment_develop"]}}}]}},"pageContext":{"slug":"/Blog/GatsbyComment/"}},"staticQueryHashes":[],"slicesMap":{}}